TAP version 14
# Subtest: auth replies 200
    ok 1 - should be equal
    1..1
ok 1 - auth replies 200 # time=225.873ms

[91m[2023-11-15T18:42:19.278] [ERROR] MAIN - APP - [39mUNAUTHORIZED [Error]: UNAUTHORIZED 
    at Object.auth (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/plugins/auth/index.ts:80:19)
    at Object.<anonymous> (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/routes/api/players/index.ts:28:42)
    at hookIterator (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:409:10)
    at next (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:243:18)
    at hookRunner (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:265:5)
    at validationCompleted (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:114:5)
    at preValidationCallback (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:98:5)
    at handler (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:75:7)
    at handleRequest (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:24:5)
    at runPreParsing (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/route.js:589:5) {
  statusCode: 401,
  out: 'Unauthorized'
}
# Subtest: auth throws an Unauthorized error
    ok 1 - should be equal
    ok 2 - should be equal
    1..2
ok 2 - auth throws an Unauthorized error # time=22.152ms

[91m[2023-11-15T18:42:19.297] [ERROR] MAIN - APP - [39mBAD_REQUEST [Error]: BAD REQUEST 
    at Object.auth (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/plugins/auth/index.ts:88:19)
    at Object.<anonymous> (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/routes/api/players/index.ts:28:42)
    at hookIterator (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:409:10)
    at next (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:243:18)
    at hookRunner (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:265:5)
    at validationCompleted (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:114:5)
    at preValidationCallback (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:98:5)
    at handler (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:75:7)
    at handleRequest (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/handleRequest.js:24:5)
    at runPreParsing (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/route.js:589:5) {
  statusCode: 400,
  out: 'Bad Request'
}
# Subtest: auth throws an bad request error
    ok 1 - should be equal
    ok 2 - should be equal
    1..2
ok 3 - auth throws an bad request error # time=17.737ms

[91m[2023-11-15T18:42:19.317] [ERROR] AUTH - [39mJsonWebTokenError: invalid token
    at module.exports (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/jsonwebtoken/verify.js:82:17)
    at node:internal/util:375:7
    at new Promise (<anonymous>)
    at node:internal/util:361:12
    at tokenVerify (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/plugins/auth/index.ts:57:22)
    at Object.auth (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/plugins/auth/index.ts:97:22)
    at Object.<anonymous> (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/routes/api/players/index.ts:28:42)
    at hookIterator (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:409:10)
    at next (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:243:18)
    at hookRunner (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/node_modules/fastify/lib/hooks.js:265:5)
[91m[2023-11-15T18:42:19.318] [ERROR] MAIN - APP - [39mUNAUTHORIZED [Error]: UNAUTHORIZED 
    at tokenVerify (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/plugins/auth/index.ts:60:15)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Object.auth (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/plugins/auth/index.ts:97:16)
    at async Object.<anonymous> (/home/theo/Documents/theo-perso/l-atelier/l-atelier-ts/src/routes/api/players/index.ts:28:28) {
  statusCode: 401,
  out: 'Unauthorized'
}
# Subtest: auth throws an forbidden error
    ok 1 - should be equal
    ok 2 - should be equal
    1..2
ok 4 - auth throws an forbidden error # time=19.691ms

# Subtest: route returns list of players
    ok 1 - should be equal
    ok 2 - type is number
    ok 3 - should have all specified properties
    ok 4 - type is string
    ok 5 - type is string
    ok 6 - type is string
    ok 7 - type is string
    ok 8 - type is object
    ok 9 - type is string
    ok 10 - type is object
    ok 11 - type is number
    ok 12 - should have all specified properties
    ok 13 - type is string
    ok 14 - type is string
    ok 15 - type is string
    ok 16 - type is string
    ok 17 - type is object
    ok 18 - type is string
    ok 19 - type is object
    ok 20 - type is number
    ok 21 - should have all specified properties
    ok 22 - type is string
    ok 23 - type is string
    ok 24 - type is string
    ok 25 - type is string
    ok 26 - type is object
    ok 27 - type is string
    ok 28 - type is object
    ok 29 - type is number
    ok 30 - should have all specified properties
    ok 31 - type is string
    ok 32 - type is string
    ok 33 - type is string
    ok 34 - type is string
    ok 35 - type is object
    ok 36 - type is string
    ok 37 - type is object
    ok 38 - type is number
    ok 39 - should have all specified properties
    ok 40 - type is string
    ok 41 - type is string
    ok 42 - type is string
    ok 43 - type is string
    ok 44 - type is object
    ok 45 - type is string
    ok 46 - type is object
    1..46
ok 5 - route returns list of players # time=20.856ms

# Subtest: route returns single player
    ok 1 - should have all specified properties
    ok 2 - type is number
    ok 3 - type is string
    ok 4 - type is string
    ok 5 - type is string
    ok 6 - type is string
    ok 7 - type is object
    ok 8 - type is string
    ok 9 - type is object
    1..9
ok 6 - route returns single player # time=20.318ms

# Subtest: route returns list of players
    ok 1 - type is object
    ok 2 - type is string
    ok 3 - type is number
    ok 4 - type is number
    ok 5 - should have all specified properties
    ok 6 - should have all specified properties
    ok 7 - type is number
    ok 8 - type is number
    ok 9 - type is string
    ok 10 - type is string
    ok 11 - should have all specified properties
    ok 12 - type is number
    ok 13 - type is number
    ok 14 - type is string
    ok 15 - type is string
    ok 16 - should have all specified properties
    ok 17 - type is number
    ok 18 - type is number
    ok 19 - type is string
    ok 20 - type is string
    ok 21 - should have all specified properties
    ok 22 - type is number
    ok 23 - type is number
    ok 24 - type is string
    ok 25 - type is string
    ok 26 - should have all specified properties
    ok 27 - type is number
    ok 28 - type is number
    ok 29 - type is string
    ok 30 - type is string
    1..30
ok 7 - route returns list of players # time=18.411ms

1..7
